{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"]}},{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"]}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"]}},{"name":"zustand/middleware","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":64,"index":98}}],"key":"YMP0j6stqbYl0MJAKxYubYnfTz0=","exportNames":["*"]}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":99},"end":{"line":3,"column":69,"index":168}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"]}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":169},"end":{"line":4,"column":26,"index":195}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useAuthStore = void 0;\n  var _asyncToGenerator2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\"));\n  var _env2 = require(_dependencyMap[2], \"expo/virtual/env\");\n  var _zustand = require(_dependencyMap[3], \"zustand\");\n  var _middleware = require(_dependencyMap[4], \"zustand/middleware\");\n  var _asyncStorage = _interopRequireDefault(require(_dependencyMap[5], \"@react-native-async-storage/async-storage\"));\n  var _axios = _interopRequireDefault(require(_dependencyMap[6], \"axios\"));\n  // Configuration simple du stockage\n  var zustandStorage = (0, _middleware.createJSONStorage)(() => _asyncStorage.default);\n  var BACKEND_URL = _env2.env.EXPO_PUBLIC_BACKEND_URL || '';\n  var useAuthStore = exports.useAuthStore = (0, _zustand.create)()((0, _middleware.persist)((set, get) => ({\n    user: null,\n    token: null,\n    isAuthenticated: false,\n    login: function () {\n      var _ref = (0, _asyncToGenerator2.default)(function* (username, password) {\n        try {\n          var response = yield _axios.default.post(`${BACKEND_URL}/api/auth/login`, {\n            username,\n            password\n          });\n          var _response$data = response.data,\n            user = _response$data.user,\n            token = _response$data.token;\n          set({\n            user,\n            token,\n            isAuthenticated: true\n          });\n\n          // Set default axios headers\n          _axios.default.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n        } catch (error) {\n          console.error('Login error:', error);\n          throw error;\n        }\n      });\n      return function login(_x, _x2) {\n        return _ref.apply(this, arguments);\n      };\n    }(),\n    logout: () => {\n      set({\n        user: null,\n        token: null,\n        isAuthenticated: false\n      });\n      delete _axios.default.defaults.headers.common['Authorization'];\n    },\n    updateUser: user => {\n      set({\n        user\n      });\n    }\n  }), {\n    name: 'auth-storage',\n    storage: zustandStorage\n  }));\n});","lineCount":64,"map":[[9,2,1,0],[9,6,1,0,"_zustand"],[9,14,1,0],[9,17,1,0,"require"],[9,24,1,0],[9,25,1,0,"_dependencyMap"],[9,39,1,0],[10,2,2,0],[10,6,2,0,"_middleware"],[10,17,2,0],[10,20,2,0,"require"],[10,27,2,0],[10,28,2,0,"_dependencyMap"],[10,42,2,0],[11,2,3,0],[11,6,3,0,"_asyncStorage"],[11,19,3,0],[11,22,3,0,"_interopRequireDefault"],[11,44,3,0],[11,45,3,0,"require"],[11,52,3,0],[11,53,3,0,"_dependencyMap"],[11,67,3,0],[12,2,4,0],[12,6,4,0,"_axios"],[12,12,4,0],[12,15,4,0,"_interopRequireDefault"],[12,37,4,0],[12,38,4,0,"require"],[12,45,4,0],[12,46,4,0,"_dependencyMap"],[12,60,4,0],[13,2,6,0],[14,2,7,0],[14,6,7,6,"zustandStorage"],[14,20,7,20],[14,23,7,23],[14,27,7,23,"createJSONStorage"],[14,56,7,40],[14,58,7,41],[14,64,7,47,"AsyncStorage"],[14,85,7,59],[14,86,7,60],[15,2,34,0],[15,6,34,6,"BACKEND_URL"],[15,17,34,17],[15,20,34,20,"_env2"],[15,25,34,20],[15,26,34,20,"env"],[15,29,34,20],[15,30,34,20,"EXPO_PUBLIC_BACKEND_URL"],[15,53,34,20],[15,57,34,59],[15,59,34,61],[16,2,36,7],[16,6,36,13,"useAuthStore"],[16,18,36,25],[16,21,36,25,"exports"],[16,28,36,25],[16,29,36,25,"useAuthStore"],[16,41,36,25],[16,44,36,28],[16,48,36,28,"create"],[16,63,36,34],[16,65,36,46],[16,66,36,47],[16,67,37,2],[16,71,37,2,"persist"],[16,90,37,9],[16,92,38,4],[16,93,38,5,"set"],[16,96,38,8],[16,98,38,10,"get"],[16,101,38,13],[16,107,38,19],[17,4,39,6,"user"],[17,8,39,10],[17,10,39,12],[17,14,39,16],[18,4,40,6,"token"],[18,9,40,11],[18,11,40,13],[18,15,40,17],[19,4,41,6,"isAuthenticated"],[19,19,41,21],[19,21,41,23],[19,26,41,28],[20,4,43,6,"login"],[20,9,43,11],[21,6,43,11],[21,10,43,11,"_ref"],[21,14,43,11],[21,21,43,11,"_asyncToGenerator2"],[21,39,43,11],[21,40,43,11,"default"],[21,47,43,11],[21,49,43,13],[21,60,43,20,"username"],[21,68,43,36],[21,70,43,38,"password"],[21,78,43,54],[21,80,43,59],[22,8,44,8],[22,12,44,12],[23,10,45,10],[23,14,45,16,"response"],[23,22,45,24],[23,31,45,33,"axios"],[23,45,45,38],[23,46,45,39,"post"],[23,50,45,43],[23,51,45,44],[23,54,45,47,"BACKEND_URL"],[23,65,45,58],[23,82,45,75],[23,84,45,77],[24,12,46,12,"username"],[24,20,46,20],[25,12,47,12,"password"],[26,10,48,10],[26,11,48,11],[26,12,48,12],[27,10,50,10],[27,14,50,10,"_response$data"],[27,28,50,10],[27,31,50,34,"response"],[27,39,50,42],[27,40,50,43,"data"],[27,44,50,47],[28,12,50,18,"user"],[28,16,50,22],[28,19,50,22,"_response$data"],[28,33,50,22],[28,34,50,18,"user"],[28,38,50,22],[29,12,50,24,"token"],[29,17,50,29],[29,20,50,29,"_response$data"],[29,34,50,29],[29,35,50,24,"token"],[29,40,50,29],[30,10,52,10,"set"],[30,13,52,13],[30,14,52,14],[31,12,53,12,"user"],[31,16,53,16],[32,12,54,12,"token"],[32,17,54,17],[33,12,55,12,"isAuthenticated"],[33,27,55,27],[33,29,55,29],[34,10,56,10],[34,11,56,11],[34,12,56,12],[36,10,58,10],[37,10,59,10,"axios"],[37,24,59,15],[37,25,59,16,"defaults"],[37,33,59,24],[37,34,59,25,"headers"],[37,41,59,32],[37,42,59,33,"common"],[37,48,59,39],[37,49,59,40],[37,64,59,55],[37,65,59,56],[37,68,59,59],[37,78,59,69,"token"],[37,83,59,74],[37,85,59,76],[38,8,60,8],[38,9,60,9],[38,10,60,10],[38,17,60,17,"error"],[38,22,60,22],[38,24,60,24],[39,10,61,10,"console"],[39,17,61,17],[39,18,61,18,"error"],[39,23,61,23],[39,24,61,24],[39,38,61,38],[39,40,61,40,"error"],[39,45,61,45],[39,46,61,46],[40,10,62,10],[40,16,62,16,"error"],[40,21,62,21],[41,8,63,8],[42,6,64,6],[42,7,64,7],[43,6,64,7],[43,22,43,6,"login"],[43,27,43,11,"login"],[43,28,43,11,"_x"],[43,30,43,11],[43,32,43,11,"_x2"],[43,35,43,11],[44,8,43,11],[44,15,43,11,"_ref"],[44,19,43,11],[44,20,43,11,"apply"],[44,25,43,11],[44,32,43,11,"arguments"],[44,41,43,11],[45,6,43,11],[46,4,43,11],[46,7,64,7],[47,4,66,6,"logout"],[47,10,66,12],[47,12,66,14,"logout"],[47,13,66,14],[47,18,66,20],[48,6,67,8,"set"],[48,9,67,11],[48,10,67,12],[49,8,68,10,"user"],[49,12,68,14],[49,14,68,16],[49,18,68,20],[50,8,69,10,"token"],[50,13,69,15],[50,15,69,17],[50,19,69,21],[51,8,70,10,"isAuthenticated"],[51,23,70,25],[51,25,70,27],[52,6,71,8],[52,7,71,9],[52,8,71,10],[53,6,72,8],[53,13,72,15,"axios"],[53,27,72,20],[53,28,72,21,"defaults"],[53,36,72,29],[53,37,72,30,"headers"],[53,44,72,37],[53,45,72,38,"common"],[53,51,72,44],[53,52,72,45],[53,67,72,60],[53,68,72,61],[54,4,73,6],[54,5,73,7],[55,4,75,6,"updateUser"],[55,14,75,16],[55,16,75,19,"user"],[55,20,75,29],[55,24,75,34],[56,6,76,8,"set"],[56,9,76,11],[56,10,76,12],[57,8,76,14,"user"],[58,6,76,19],[58,7,76,20],[58,8,76,21],[59,4,77,6],[60,2,78,4],[60,3,78,5],[60,4,78,6],[60,6,79,4],[61,4,80,6,"name"],[61,8,80,10],[61,10,80,12],[61,24,80,26],[62,4,81,6,"storage"],[62,11,81,13],[62,13,81,15,"zustandStorage"],[63,2,82,4],[63,3,83,2],[63,4,84,0],[63,5,84,1],[64,0,84,2],[64,3]],"functionMap":{"names":["<global>","createJSONStorage$argument_0","persist$argument_0","login","logout","updateUser"],"mappings":"AAA;yCCM,kBD;IE+B;aCK;ODqB;cEE;OFO;kBGE;OHE;MFC"}},"type":"js/module"}]}